{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["import axios from 'axios';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport './css/style.css';\n\n\n\n\nconst form = document.querySelector('.form');\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('#loader');\nfunction showLoader() {\n  loader.classList.remove('hidden');\n}\n\nfunction hideLoader() {\n  loader.classList.add('hidden');\n}\n\nconst API_KEY = '50362686-a19d598e286bdc8c634e59341';\nconst BASE_URL = 'https://pixabay.com/api/';\nconst lightbox = new SimpleLightbox('.gallery a');\n\nform.addEventListener('submit', async event => {\n  event.preventDefault();\n  const searchQuery = event.currentTarget.elements['search-text'].value.trim();\n\n  if (!searchQuery) {\n    iziToast.warning({ message: 'Please enter a search term' });\n    return;\n  }\n\n  gallery.innerHTML = '';\n  loader.classList.remove('hidden');\n\n  try {\n    const response = await axios.get(BASE_URL, {\n      params: {\n        key: API_KEY,\n        q: searchQuery,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n        per_page: 20,\n      },\n    });\n\n    const images = response.data.hits;\n\n    if (images.length === 0) {\n      iziToast.info({ message: 'No images found. Try another word.' });\n      return;\n    }\n\n    const markup = images\n      .map(\n        img => `\n      <li>\n        <a href=\"${img.largeImageURL}\">\n          <img src=\"${img.webformatURL}\" alt=\"${img.tags}\" />\n        </a>\n      </li>`\n      )\n      .join('');\n\n    gallery.innerHTML = markup;\n    lightbox.refresh();\n  } catch (error) {\n    iziToast.error({ message: 'Something went wrong. Try again later.' });\n    console.error(error);\n  } finally {\n    loader.classList.add('hidden');\n  }\n});\n"],"names":["form","gallery","loader","API_KEY","BASE_URL","lightbox","SimpleLightbox","event","searchQuery","iziToast","images","axios","markup","img","error"],"mappings":"+vBAUA,MAAMA,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EASzCC,EAAU,qCACVC,EAAW,2BACXC,EAAW,IAAIC,EAAe,YAAY,EAEhDN,EAAK,iBAAiB,SAAU,MAAMO,GAAS,CAC7CA,EAAM,eAAgB,EACtB,MAAMC,EAAcD,EAAM,cAAc,SAAS,aAAa,EAAE,MAAM,KAAM,EAE5E,GAAI,CAACC,EAAa,CAChBC,EAAS,QAAQ,CAAE,QAAS,4BAA4B,CAAE,EAC1D,MACJ,CAEER,EAAQ,UAAY,GACpBC,EAAO,UAAU,OAAO,QAAQ,EAEhC,GAAI,CAYF,MAAMQ,GAXW,MAAMC,EAAM,IAAIP,EAAU,CACzC,OAAQ,CACN,IAAKD,EACL,EAAGK,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,EACX,CACP,CAAK,GAEuB,KAAK,KAE7B,GAAIE,EAAO,SAAW,EAAG,CACvBD,EAAS,KAAK,CAAE,QAAS,oCAAoC,CAAE,EAC/D,MACN,CAEI,MAAMG,EAASF,EACZ,IACCG,GAAO;AAAA;AAAA,mBAEIA,EAAI,aAAa;AAAA,sBACdA,EAAI,YAAY,UAAUA,EAAI,IAAI;AAAA;AAAA,YAGxD,EACO,KAAK,EAAE,EAEVZ,EAAQ,UAAYW,EACpBP,EAAS,QAAS,CACnB,OAAQS,EAAO,CACdL,EAAS,MAAM,CAAE,QAAS,wCAAwC,CAAE,EACpE,QAAQ,MAAMK,CAAK,CACvB,QAAY,CACRZ,EAAO,UAAU,IAAI,QAAQ,CACjC,CACA,CAAC"}