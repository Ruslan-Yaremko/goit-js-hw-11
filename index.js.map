{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["import axios from 'axios';\r\nimport SimpleLightbox from 'simplelightbox';\r\nimport 'simplelightbox/dist/simple-lightbox.min.css';\r\nimport iziToast from 'izitoast';\r\nimport 'izitoast/dist/css/iziToast.min.css';\r\n\r\nconst form = document.querySelector('.form');\r\nconst gallery = document.querySelector('.gallery');\r\nconst loader = document.querySelector('#loader');\r\nfunction showLoader() {\r\n  loader.classList.remove('hidden');\r\n}\r\n\r\nfunction hideLoader() {\r\n  loader.classList.add('hidden');\r\n}\r\n\r\nconst API_KEY = '50362686-a19d598e286bdc8c634e59341';\r\nconst BASE_URL = 'https://pixabay.com/api/';\r\nconst lightbox = new SimpleLightbox('.gallery a');\r\n\r\nform.addEventListener('submit', async event => {\r\n  event.preventDefault();\r\n  const searchQuery = event.currentTarget.elements['search-text'].value.trim();\r\n\r\n  if (!searchQuery) {\r\n    iziToast.warning({ message: 'Please enter a search term' });\r\n    return;\r\n  }\r\n\r\n  gallery.innerHTML = '';\r\n  loader.classList.remove('hidden');\r\n\r\n  try {\r\n    const response = await axios.get(BASE_URL, {\r\n      params: {\r\n        key: API_KEY,\r\n        q: searchQuery,\r\n        image_type: 'photo',\r\n        orientation: 'horizontal',\r\n        safesearch: true,\r\n        per_page: 20,\r\n      },\r\n    });\r\n\r\n    const images = response.data.hits;\r\n\r\n    if (images.length === 0) {\r\n      iziToast.info({ message: 'No images found. Try another word.' });\r\n      return;\r\n    }\r\n\r\n    const markup = images\r\n      .map(\r\n        img => `\r\n      <li>\r\n        <a href=\"${img.largeImageURL}\">\r\n          <img src=\"${img.webformatURL}\" alt=\"${img.tags}\" />\r\n        </a>\r\n      </li>`\r\n      )\r\n      .join('');\r\n\r\n    gallery.innerHTML = markup;\r\n    lightbox.refresh();\r\n  } catch (error) {\r\n    iziToast.error({ message: 'Something went wrong. Try again later.' });\r\n    console.error(error);\r\n  } finally {\r\n    loader.classList.add('hidden');\r\n  }\r\n});\r\n"],"names":["form","gallery","loader","API_KEY","BASE_URL","lightbox","SimpleLightbox","event","searchQuery","iziToast","images","axios","markup","img","error"],"mappings":"+vBAMA,MAAMA,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EASzCC,EAAU,qCACVC,EAAW,2BACXC,EAAW,IAAIC,EAAe,YAAY,EAEhDN,EAAK,iBAAiB,SAAU,MAAMO,GAAS,CAC7CA,EAAM,eAAc,EACpB,MAAMC,EAAcD,EAAM,cAAc,SAAS,aAAa,EAAE,MAAM,OAEtE,GAAI,CAACC,EAAa,CAChBC,EAAS,QAAQ,CAAE,QAAS,4BAA8B,CAAA,EAC1D,MACD,CAEDR,EAAQ,UAAY,GACpBC,EAAO,UAAU,OAAO,QAAQ,EAEhC,GAAI,CAYF,MAAMQ,GAXW,MAAMC,EAAM,IAAIP,EAAU,CACzC,OAAQ,CACN,IAAKD,EACL,EAAGK,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,EACX,CACP,CAAK,GAEuB,KAAK,KAE7B,GAAIE,EAAO,SAAW,EAAG,CACvBD,EAAS,KAAK,CAAE,QAAS,oCAAsC,CAAA,EAC/D,MACD,CAED,MAAMG,EAASF,EACZ,IACCG,GAAO;AAAA;AAAA,mBAEIA,EAAI,aAAa;AAAA,sBACdA,EAAI,YAAY,UAAUA,EAAI,IAAI;AAAA;AAAA,YAGjD,EACA,KAAK,EAAE,EAEVZ,EAAQ,UAAYW,EACpBP,EAAS,QAAO,CACjB,OAAQS,EAAO,CACdL,EAAS,MAAM,CAAE,QAAS,wCAA0C,CAAA,EACpE,QAAQ,MAAMK,CAAK,CACvB,QAAY,CACRZ,EAAO,UAAU,IAAI,QAAQ,CAC9B,CACH,CAAC"}